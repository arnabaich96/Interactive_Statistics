---
title: "**Summary Measures**"
author: "**Arnab Aich**"
output: 
  html_document:
    toc: true
    toc_float: true
    theme: cerulean
    css: |
      .center-plot {
        display: flex;
        justify-content: center;
        margin-top: 20px;
      }
      .table-container {
        display: flex;
        justify-content: space-around;
        margin-top: 20px;
      }
      table {
        margin-right: 30px;
        font-size: 16px;
      }
       body {
        font-size: 18px; /* Adjust this value for your preferred font size */     
      margin-left: 10px;
      margin-right: 10px;
           }

      .container-fluid {
        max-width: 90%; /* Ensures that the content takes up the full page width */
      }

---
<style>
  body {
    font-size: 18px; /* Adjust this value for your preferred font size */
    margin-left: 10px;
    margin-right: 10px;
    background-color: #f9e79f;
  }
  /* Center the title and author */
  .title {
    color: #7C0A02;
    text-align: center;
    font-size: 36px;
  }
  .author {
    text-align: center;
    font-size: 24px;
  color: #7C0A02;
  }

  /* Change TOC font color to garnet and hide title/author from TOC */
  #TOC a {
    color: #7C0A02;
  }

  .container-fluid {
    max-width: 90%; /* Ensures that the content takes up the full page width */
  }
</style>


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, comment = NA, warning = FALSE, message = FALSE)
library(ggplot2)
library(kableExtra)  # For better HTML table visuals
library(patchwork)

```
## Mean:

The **mean** is the average of a set of numbers, calculated by dividing the sum of the values by the total number of values.

### Steps to Calculate:
1. **Sum all data points**: Add together all the values in the dataset.
2. **Divide by the total number of data points**: Count how many values are in the dataset and divide the total sum by this count.

### Example:
Consider the values: 5, 8, 12, 15, 18.

1. Add all the values: \(5 + 8 + 12 + 15 + 18 = 58\).
2. Divide by the number of values (5): \(58 / 5 = 11.6\).

So, the mean is **11.6**.

---

##      Median:        

The **median** is the middle value of a dataset when the numbers are arranged in order. If the dataset has an odd number of values, the median is the central value. If the dataset has an even number of values, the median is the average of the two middle values.

### Steps to Calculate:
1. **Arrange the data in ascending order**.
2. **Identify the middle value**:
   - If there is an odd number of values, the median is the middle number.
   - If there is an even number of values, calculate the average of the two middle numbers.

### Example (Odd Number of Values):
For the dataset: 3, 7, 9, 12, 18.

1. Arrange in order: 3, 7, 9, 12, 18.
2. The middle value is 9, so the median is **9**.

### Example (Even Number of Values):
For the dataset: 3, 7, 9, 12.

1. Arrange in order: 3, 7, 9, 12.
2. The two middle values are 7 and 9. Their average is \((7 + 9) / 2 = 8\).

So, the median is **8**.

---

##      Quantile:        

A **quantile** divides the dataset into equal parts. The most common quantiles are quartiles, which split the data into four parts:
- The 25th percentile (first quartile, Q1),
- The 50th percentile (second quartile, Q2, or the median),
- The 75th percentile (third quartile, Q3).

### Steps to Calculate:
1. **Arrange the data in ascending order**.
2. **Determine the desired quantile** (e.g., Q1 is the 25th percentile, Q3 is the 75th percentile).
3. **Find the value at that position**:
   - For Q1, find the value at the 25th percentile position.
   - For Q3, find the value at the 75th percentile position.

### Example:
For the dataset: 2, 5, 7, 9, 12, 15, 18.

1. Arrange in order: 2, 5, 7, 9, 12, 15, 18.
2. Q1 is the value at the 25th percentile (approximately the second value in the sorted list), which is **5**.
3. Q3 is the value at the 75th percentile (approximately the sixth value in the sorted list), which is **15**.

---

##      Range:        

The **range** is the difference between the largest and smallest values in the dataset.

### Steps to Calculate:
1. **Find the minimum value** in the dataset.
2. **Find the maximum value** in the dataset.
3. **Subtract the minimum from the maximum** to get the range.

### Example:
For the dataset: 3, 7, 12, 18, 22.

1. Minimum value is 3.
2. Maximum value is 22.
3. The range is \(22 - 3 = 19\).

So, the range is **19**.

---

##      Interquartile Range (IQR):        

The **interquartile range (IQR)** is the difference between the first quartile (Q1) and the third quartile (Q3). It measures the spread of the middle 50% of the data.

### Steps to Calculate Quartiles (Q1 and Q3)

1. **Arrange the data in ascending order**.
2. **Find the median** (Q2), which divides the dataset in half.
3. **Q1**: This is the median of the first half of the dataset (for an odd number of observations, exclude the median).
4. **Q3**: This is the median of the second half of the dataset (for an odd number of observations, exclude the median).

---

### For 9 Observations:

Dataset: 2, 5, 7, 9, 12, 15, 18, 21, 25

1. Arrange in order: 2, 5, 7, 9, 12, 15, 18, 21, 25.
2. Median (Q2) is 12 (5th value).
3. First half: 2, 5, 7, 9 → Q1 = (5 + 7) / 2 = 6.
4. Second half: 15, 18, 21, 25 → Q3 = (18 + 21) / 2 = 19.5.

---

### For 10 Observations:

Dataset: 2, 5, 7, 9, 12, 15, 18, 21, 25, 28

1. Arrange in order: 2, 5, 7, 9, 12, 15, 18, 21, 25, 28.
2. Median (Q2) is (12 + 15) / 2 = 13.5 (average of 5th and 6th values).
3. First half: 2, 5, 7, 9, 12 → Q1 = 7.
4. Second half: 15, 18, 21, 25, 28 → Q3 = 21.

---

##      Standard Deviation (SD):        

The **standard deviation** measures how spread out the values are in a dataset. It is the square root of the variance, which represents the average squared differences from the mean.

### Steps to Calculate:
1. **Find the mean** of the dataset.
2. **Subtract the mean from each data point**, then square the result.
3. **Sum all the squared differences**.
4. **Divide the sum by the number of data points** (for a sample, divide by \(n - 1\)).
5. **Take the square root** of the result.

### Example:
For the dataset: 6, 8, 10, 12.

1. Mean is \((6 + 8 + 10 + 12) / 4 = 9\).
2. Subtract the mean from each data point: 
   - \(6 - 9 = -3\), \(8 - 9 = -1\), \(10 - 9 = 1\), \(12 - 9 = 3\).
3. Square each result: 
   - \((-3)^2 = 9\), \((-1)^2 = 1\), \(1^2 = 1\), \(3^2 = 9\).
4. Sum the squares: \(9 + 1 + 1 + 9 = 20\).
5. Divide by the number of data points (4): \(20 / 4 = 5\).
6. Take the square root: \(\sqrt{5} \approx 2.24\).

So, the standard deviation is approximately **2.24**.

---

##      Z Score:        

The **z-score** is a measure of how many standard deviations a data point is from the mean. It is useful for comparing values from different datasets.

### Steps to Calculate:
1. **Find the mean** of the dataset.
2. **Find the standard deviation** of the dataset.
3. **Subtract the mean from the value of interest**.
4. **Divide the result by the standard deviation**.

### Example:
For a dataset with a mean of 10 and a standard deviation of 2, and a value of 14:

1. Subtract the mean from 14: \(14 - 10 = 4\).
2. Divide by the standard deviation: \(4 / 2 = 2\).

So, the z-score is **2**.

---



```{r}
# Generate random heights using a normal distribution
set.seed(123)  # Set seed for reproducibility
heights_cm <- rnorm(100, mean = 170, sd = 10)  # 100 heights in cm with a mean of 170 and SD of 10
heights_in <- heights_cm / 2.54  # Convert cm to inches
heights_ft <- heights_cm / 30.48  # Convert cm to feet

h = cbind(heights_cm, heights_in, heights_ft)
h[1:5,] %>%
  kbl(align = "c") %>%
kable_styling(full_width = FALSE, bootstrap_options = c("striped", "hover", "condensed")) %>%
  row_spec(0, bold = TRUE, color = "white", background = "#7C0A02") %>%
  row_spec(1:5, background = "lightblue")

```

### Summary Measures
```{r}
# Summary Measures Function
summary_measures <- function(data) {
  list(
    Mean = round(mean(data), 2),
    Median = round(median(data), 2),
    Variance = round(var(data), 2),
    SD = round(sd(data), 2),
    Range = c(min(data), max(data)),
    IQR = round(IQR(data), 2)
  )
}

# Summary for Heights in cm, inches, and feet
summary_cm <- summary_measures(heights_cm)
summary_in <- summary_measures(heights_in)
summary_ft <- summary_measures(heights_ft)

# Combine summary statistics in a table with formatted range
summary_table <- data.frame(
  Measure = c("Mean", "Median", "Variance", "Standard Deviation", "Range (Min)", "Range (Max)", "Interquartile Range (IQR)"),
  Height_cm =round( c(summary_cm$Mean, summary_cm$Median, summary_cm$Variance, summary_cm$SD, summary_cm$Range[1], summary_cm$Range[2], summary_cm$IQR),3),
  Height_in = round( c(summary_in$Mean, summary_in$Median, summary_in$Variance, summary_in$SD, summary_in$Range[1], summary_in$Range[2], summary_in$IQR),3),
  Height_ft = round( c(summary_ft$Mean, summary_ft$Median, summary_ft$Variance, summary_ft$SD, summary_ft$Range[1], summary_ft$Range[2], summary_ft$IQR),3)
)

# Z-Score Calculation Function
z_score <- function(value, mean_value, sd_value) {
  round((value - mean_value) / sd_value, 2)
}

# Z-Scores for selected heights
z_scores_cm <- z_score(c(160, 170, 180), summary_cm$Mean, summary_cm$SD)
z_scores_in <- z_score(c(160, 170, 180) / 2.54, summary_in$Mean, summary_in$SD)  # Convert to inches
z_scores_ft <- z_score(c(160, 170, 180) / 30.48, summary_ft$Mean, summary_ft$SD)  # Convert to feet

# Combine Z-score calculations into a table
z_score_table <- data.frame(
  Height_Value = c(160, 170, 180),
  Z_Score_cm = z_scores_cm,
  Z_Score_in = z_scores_in,
  Z_Score_ft = z_scores_ft
)

# Print the summary table
summary_table %>%
  kbl(align = "c") %>%
kable_styling(full_width = FALSE, bootstrap_options = c("striped", "hover", "condensed")) %>%
  row_spec(0, bold = TRUE, color = "white", background = "#7C0A02") %>%
  row_spec(1:nrow(summary_table), background = "lightblue")
```


### Z-score table


```{r}
z_score_table %>%
  kbl(align = "c") %>%
kable_styling(full_width = FALSE, bootstrap_options = c("striped", "hover", "condensed")) %>%
  row_spec(0, bold = TRUE, color = "white", background = "#7C0A02") %>%
  row_spec(1:nrow(z_score_table), background = "lightblue")



```
## Recap

This document explored key statistical measures used to describe and analyze data sets. We discussed:

- **Mean:** The arithmetic average of a dataset, providing a measure of the central tendency.
- **Median:** The middle value that separates the higher half from the lower half of the data set, useful in skewed distributions.
- **Quantiles:** Points in the data that partition it into quantiles, with quartiles being the most common, dividing the data into four equal parts.
- **Range:** The difference between the maximum and minimum values, giving a sense of the spread.
- **Interquartile Range (IQR):** The range between the first and third quartiles, providing a measure of statistical dispersion.
- **Standard Deviation:** A measure of the amount of variation or dispersion in a set of values.
- **Z-Score:** Indicates how many standard deviations an element is from the mean.

Each measure offers unique insights and, when used together, can provide a comprehensive understanding of the data's behavior.

## Questions and Answers

### Q1: What is the primary use of the mean in data analysis?
**A1:** The mean is used to find the average value of a dataset, indicating the central point of the data distribution.

### Q2: How does the median differ from the mean in terms of data representation?
**A2:** The median represents the middle value and is less affected by outliers and skewed data than the mean.

### Q3: What is the purpose of calculating quantiles in a dataset?
**A3:** Quantiles, including quartiles, divide the data into equal parts, helping to understand the distribution and variability of data.

### Q4: Why is the range important in statistics?
**A4:** The range provides a quick sense of the spread of the data, highlighting the difference between the highest and lowest values.

### Q5: What does the interquartile range tell us that the range does not?
**A5:** The IQR focuses on the middle 50% of the data, providing a clearer picture of the data's central tendency without the influence of outliers.

### Q6: How is the standard deviation useful compared to the mean?
**A6:** While the mean provides a central value, the standard deviation quantifies the variation of the data points from the mean, indicating how spread out the data is.

### Q7: What does a high standard deviation indicate about a dataset?
**A7:** A high standard deviation indicates that the data points are spread widely around the mean, showing high variability.

### Q8: How do you interpret a Z-score in terms of data analysis?
**A8:** A Z-score indicates how many standard deviations a data point is from the mean. A Z-score of 0 represents a point at the mean.

### Q9: In what scenario might you prefer to use the median over the mean?
**A9:** The median is preferred over the mean in datasets with outliers or when the data is highly skewed.

### Q10: How can the concept of quantiles be used to compare two different data distributions?
**A10:** Quantiles can be used to compare the relative standing of data points within different distributions, even if the scales of the datasets differ.



