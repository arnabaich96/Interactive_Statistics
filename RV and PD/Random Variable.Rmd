
---
title: "<span style='color:garnet; font-size:32px;'><strong><center>Random Variables: Definition and Example</center></strong></span>"
author: "<span style='color:garnet; font-size:24px;'><center><i>Arnab Aich</i></center></span>"
output: 
  html_document:
    toc: true
    toc_float: true
runtime: shiny
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, comment = NA, warning = FALSE, message = FALSE)
```

<div style="background-color:lightgold; padding: 10px;">

# <span style="color:garnet; font-size:15px;"><i>Random Variable: Definition and Example</i></span>

- A **random variable** (RV) is a variable whose possible values are outcomes of a random experiment.
  - *Example*: Rolling a six-sided die.
    - The random variable (**X**) can take on values from 1 to 6.
- Random variables can be:
  - **Discrete**: Can take on a countable number of values (e.g., die rolls).
  - **Continuous**: Can take on an infinite number of values within a range (e.g., IQ scores).

---

# <span style="color:garnet; font-size:15px;"><i>Die Example: Calculating Probability</i></span>

- Suppose we roll a six-sided die.
  - We will now calculate probabilities and show the frequency and relative frequency tables.

```{r, echo=FALSE}
# Simulating biased die rolls
set.seed(123)
biased_die_rolls <- sample(1:6, size=1000, replace=TRUE, prob=c(0.15, 0.15, 0.35, 0.1, 0.1, 0.05))

# Creating frequency and relative frequency tables
biased_freq_table <- table(biased_die_rolls)
biased_rel_freq_table <- prop.table(biased_freq_table)

# Displaying the frequency table with improved visualization and centered alignment
biased_die_df <- data.frame("Die Face" = names(biased_freq_table), 
                            "Frequency" = as.vector(biased_freq_table), 
                            "Relative Frequency" = as.vector(biased_rel_freq_table))

# Displaying table with knitr
library(knitr)
library(kableExtra)

biased_die_df %>%
  kbl() %>%
  kable_styling(full_width = FALSE, position = "center", bootstrap_options = "striped")
```

---

# <span style="color:garnet; font-size:15px;"><i>Calculating Probabilities: P(X ≤ 2) and P(X > 4)</i></span>

- **P(X ≤ 2)** is calculated as:
  - $P(X \leq 2) = P(X = 1) + P(X = 2)$
  - Using relative frequencies from the table:
  - P(X = 1) = 0.15, P(X = 2) = 0.15
  - **$P(X \leq 2) = 0.15 + 0.15 = 0.30$**

- **P(X > 4)** is calculated as:
  - $P(X > 4) = P(X = 5) + P(X = 6)$
  - Using relative frequencies from the table:
  - P(X = 5) = 0.10, P(X = 6) = 0.05
  - **$P(X > 4) = 0.10 + 0.05 = 0.15$**

---

# <span style="color:garnet; font-size:15px;"><i>Mean, Variance, and Standard Deviation of a Discrete Random Variable</i></span>

- **Mean (Expected Value)** of a discrete random variable X is given by:
  - *$E(X) = \Sigma [x \cdot P(X = x)]$*
  - The calculation for the biased die example:

| Die Face (X) | P(X = x) | X * P(X = x) |
|:-------------|:---------|:-------------|
| 1            | 0.15     | 0.15         |
| 2            | 0.15     | 0.30         |
| 3            | 0.35     | 1.05         |
| 4            | 0.10     | 0.40         |
| 5            | 0.10     | 0.50         |
| 6            | 0.05     | 0.30         |

- **E(X) = 0.15 + 0.30 + 1.05 + 0.40 + 0.50 + 0.30 = 2.70**

- **Variance** of a discrete random variable X is given by:
  - *$Var(X) = \Sigma [(x - E(X))^2 \cdot P(X = x)]$*
  - The calculation for the biased die example:

| Die Face (X) | P(X = x) | (X - E(X))^2 | (X - E(X))^2 * P(X = x) |
|:-------------|:---------|:-------------|:------------------------|
| 1            | 0.15     | 2.89         | 0.43                    |
| 2            | 0.15     | 0.49         | 0.07                    |
| 3            | 0.35     | 0.09         | 0.03                    |
| 4            | 0.10     | 1.69         | 0.17                    |
| 5            | 0.10     | 5.29         | 0.53                    |
| 6            | 0.05     | 10.89        | 0.54                    |

- **$Var(X) = 0.43 + 0.07 + 0.03 + 0.17 + 0.53 + 0.54 = 1.77$**

- **Standard Deviation (SD)** is the square root of the variance:
  - **$SD(X) = \sqrt{Var(X)} = \sqrt{1.77} = 1.33$**

---

# <span style="color:garnet; font-size:15px;"><i>IQ Example: Visualizing Probability (Area Under Curve)</i></span>

- Visualizing the probability for IQ scores:
  1. **Less than 85**
  2. **Greater than 115**
  3. **Between 85 and 115**

```{r, echo=FALSE}
# Simulating IQ data
set.seed(123)
iq_scores <- rnorm(1000, mean=100, sd=15)

# Plotting less than 85
par(mfrow=c(1, 1))
hist(iq_scores, breaks=20, prob=TRUE, col="lightblue", main="P(IQ < 85)", xlab="IQ Score", border="white")
lines(density(iq_scores), col="darkblue", lwd=2)
polygon(c(min(iq_scores), seq(min(iq_scores), 85, length=100), 85), 
        c(0, dnorm(seq(min(iq_scores), 85, length=100), mean=100, sd=15), 0), 
        col=rgb(0.2, 0.8, 0.5, 0.3), border=NA)

# Plotting greater than 115
hist(iq_scores, breaks=20, prob=TRUE, col="lightblue", main="P(IQ > 115)", xlab="IQ Score", border="white")
lines(density(iq_scores), col="darkblue", lwd=2)
polygon(c(115, seq(115, max(iq_scores), length=100)), 
        c(0, dnorm(seq(115, max(iq_scores), length=100), mean=100, sd=15)), 
        col=rgb(0.8, 0.2, 0.5, 0.3), border=NA)

# Plotting between 85 and 115
hist(iq_scores, breaks=20, prob=TRUE, col="lightblue", main="P(85 ≤ IQ ≤ 115)", xlab="IQ Score", border="white")
lines(density(iq_scores), col="darkblue", lwd=2)
polygon(c(85, seq(85, 115, length=100), 115), 
        c(0, dnorm(seq(85, 115, length=100), mean=100, sd=15), 0), 
        col=rgb(0.2, 0.5, 0.8, 0.3), border=NA)
```

</div>

---

# <span style="color:garnet; font-size:15px;"><i>Hypothetical Continuous Data: Description and Calculation</i></span>

Let’s consider a continuous random variable representing **heights of adult males** in a given population. Heights are normally distributed with a mean of 175 cm and a standard deviation of 10 cm. 

We are interested in calculating the following probabilities using this hypothetical data:
- **P(height < 165 cm)**: The probability of selecting an individual shorter than 165 cm.
- **P(height > 185 cm)**: The probability of selecting an individual taller than 185 cm.
- **P(165 cm ≤ height ≤ 185 cm)**: The probability of selecting an individual whose height falls between 165 cm and 185 cm.

We will use the properties of the normal distribution to calculate these probabilities.

---

# <span style="color:garnet; font-size:15px;"><i>Question and Answer Section</i></span>

1. **What is a random variable?**
   - A random variable is a variable that takes on different values based on the outcome of a random experiment.

2. **What is the difference between discrete and continuous random variables?**
   - Discrete random variables can take on countable values, while continuous random variables can take on any value within a range.

3. **How do we calculate the expected value of a discrete random variable?**
   - The expected value (mean) is calculated as \( E(X) = \sum x \cdot P(X = x) \).

4. **What is the purpose of calculating variance and standard deviation?**
   - Variance and standard deviation tell us how much the values of a random variable are spread out from the mean.

5. **How is the probability calculated for a continuous random variable?**
   - The probability for a continuous random variable is calculated by finding the area under the probability density function (PDF) for a given range.

