---
title: "Probability and Distributions"
author: "Arnab Aich"
output: 
  html_document:
    self_contained: yes
    toc: true
    toc_float: true
    toc_depth: 4
    theme: cerulean
---
<link rel="stylesheet" type="text/css" href="../styles.css">

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, comment = NA, warning = FALSE, message = FALSE,fig.align = 'center',out.width = '100%')
library(shiny)
library(kableExtra)
library(ggplot2)
library(patchwork)
```

## Introduction

- A **random experiment** is an action or process that leads to one of several possible outcomes.
    - Example: Flipping a coin or rolling a die.
- An **outcome** is the result of a single trial of a random experiment.
    - Example outcomes: **Coin toss**: Heads or Tails, **Die roll**: 1, 2, 3, 4, 5, 6.
- An **event** is a specific outcome or set of outcomes from a random experiment.
    - Example event: Flipping two heads in a row, or rolling an even number.

---

## Probability and Distributions 

- **Probability** measures the likelihood that an event will occur.
- **Properties:** 
  Probability is always a number between 0 and 1.
  - <span style="background-color:yellow;">0</span> means the event will **not happen**.
  - <span style="background-color:yellow;">1</span> means the event **will definitely happen**.
  - The sum of the probabilities for all possible outcomes in a sample space is always equal to **1**.
  - The Probability of an event $A$ is denoted as $P(A)$ and Probability of compliment of event $A$ is denoted as $P(A^c)$. We always have
  $$P(A) + P(A^c) = 1$$
  
- There are two types of probability distributions:
  - <span style="background-color:yellow;">**Discrete**</span>: Consists of distinct, countable outcomes.
  
     Example: The number of heads in 10 coin tosses.
  - <span style="background-color:yellow;">**Continuous**</span>: Involves a range of possible outcomes.
  
     Example: The IQ scores of 1000 individuals.

---

## Discrete Distribution

- A biased die is tossed **1000** times, and the number of times each face value appears is recorded.
- The frequency and relative frequency of each outcome will be calculated.

```{r, echo=FALSE, message=FALSE}
# Load required libraries
library(ggplot2)

# Simulating biased die rolls
set.seed(123)
biased_die_rolls <- sample(1:6, size=1000, replace=TRUE, prob=c(0.15, 0.15, 0.35, 0.1, 0.1, 0.05))

# Creating frequency and relative frequency table
biased_freq_table <- table(biased_die_rolls)
biased_rel_freq_table <- prop.table(biased_freq_table)

# Displaying the frequency table with styling and center alignment
biased_die_df <- data.frame("Die Face" = names(biased_freq_table), 
                            "Frequency" = as.vector(biased_freq_table), 
                            "Relative Frequency" = as.vector(biased_rel_freq_table))

biased_die_df %>%
  kable(align = "c") %>%
   kable_styling(full_width = FALSE, bootstrap_options = c("striped", "hover", "condensed")) %>%
  row_spec(0, bold = TRUE, color = "white", background = "#7C0A02") %>%
  row_spec(1:nrow(biased_die_df), background = "lightblue")
```

---

## Barplot for Discrete PD

```{r, echo=FALSE}
# Creating a ggplot bar chart for frequency
ggplot(as.data.frame(biased_freq_table), aes(x=biased_die_rolls, y=Freq)) +
  geom_bar(stat="identity", fill="skyblue", color="black") +
  labs(title="Biased Die Rolls: Frequency", x="Die Face", y="Frequency") +
  theme_minimal()
```

---

## Continuous Distribution

- An experiment was conducted at a university and IQ scores of 1000 undergraduate students were recorded.
- The table below shows the frequency and relative frequency of IQ ranges.

```{r, echo=FALSE}
# Simulating IQ data
set.seed(123)
iq_scores <- rnorm(1000, mean=70, sd=15)

# Creating IQ ranges and calculating frequency and relative frequency
iq_ranges <- cut(iq_scores, breaks=10)
iq_freq_table <- table(iq_ranges)
iq_rel_freq_table <- prop.table(iq_freq_table)

# Displaying the frequency table in markdown format
iq_df <- data.frame("IQ Range" = names(iq_freq_table), 
                    "Frequency" = as.vector(iq_freq_table), 
                    "Relative Frequency" = as.vector(iq_rel_freq_table))

iq_df %>%
  kable(align = "c") %>%
  kable_styling(bootstrap_options = c("striped", "hover", "condensed")) %>%
 kable_styling(full_width = FALSE, bootstrap_options = c("striped", "hover", "condensed")) %>%
  row_spec(0, bold = TRUE, color = "white", background = "#7C0A02") %>%
  row_spec(1:nrow(iq_df), background = "lightblue")
```

---

## Histogram for Cont. PD

- Use the slider below to change the number of bins in the histogram of IQ scores (between 10 and 100).

```{r, echo=FALSE}

# Generate some sample data for IQ scores (Normal distribution)
set.seed(123)
iq_scores <- rnorm(1000, mean = 100, sd = 15)

# Create individual plots with different bin sizes
plot1 <- ggplot(data.frame(iq_scores), aes(x = iq_scores)) +
  geom_histogram(bins = 10, fill = "lightblue", color = "black", aes(y = ..density..)) +
  geom_density(color = "purple", size = 1) +
  labs(title = "10 Bins", x = "IQ Score", y = "Density") +
  theme_minimal()

plot2 <- ggplot(data.frame(iq_scores), aes(x = iq_scores)) +
  geom_histogram(bins = 25, fill = "lightgreen", color = "black", aes(y = ..density..)) +
  geom_density(color = "purple", size = 1) +
  labs(title = "25 Bins", x = "IQ Score", y = "Density") +
  theme_minimal()

plot3 <- ggplot(data.frame(iq_scores), aes(x = iq_scores)) +
  geom_histogram(bins = 50, fill = "lightpink", color = "black", aes(y = ..density..)) +
  geom_density(color = "purple", size = 1) +
  labs(title = "50 Bins", x = "IQ Score", y = "Density") +
  theme_minimal()

plot4 <- ggplot(data.frame(iq_scores), aes(x = iq_scores)) +
  geom_histogram(bins = 100, fill = "lightyellow", color = "black", aes(y = ..density..)) +
  geom_density(color = "purple", size = 1) +
  labs(title = "100 Bins", x = "IQ Score", y = "Density") +
  theme_minimal()

# Combine plots into a 2x2 grid using patchwork
combined_plot <- (plot1 | plot2) / (plot3 | plot4)

# Display the combined plot
print(combined_plot)

```

---

## Recap

- **Relative frequency** measures how often an event occurs, relative to the total number of trials.
- As the number of trials increases, the relative frequency approaches the **true probability** of the event.
- For continuous probability distributions, **probability** can be considered as the **area under the curve**.
- In this way, relative frequency can serve as an estimate of probability, especially in practical applications where the true probability is unknown.

---

## Q&A Session

#### Question 1: What is a random experiment? Can you give an example?

- **Answer**: A random experiment is a process or action that leads to one of several possible outcomes, where the outcome is uncertain. 
- **Example**: Flipping a coin is a random experiment because the result could be either "heads" or "tails," and we cannot predict which will occur in advance.

#### Question 2: What is an outcome, and how is it different from an event?

- **Answer**: An outcome is the result of a single trial of a random experiment. An event is a set of one or more outcomes.
- **Example**: When rolling a die, getting a "3" is an outcome. The event of rolling an even number includes the outcomes "2", "4", and "6."

#### Question 3: What does it mean when the probability of an event is 0? What about when it's 1?

- **Answer**: A probability of **0** means the event will **never happen**, while a probability of **1** means the event will **definitely happen**.
- **Example**: If you're rolling a standard six-sided die, the probability of rolling a "7" is 0 because it's impossible. The probability of rolling a number between 1 and 6 is 1 because it’s certain.

#### Question 4: How is probability related to frequency, and why is it important?

- **Answer**: Probability can be thought of as the long-term relative frequency of an event. The more times you perform an experiment, the closer the relative frequency of an outcome will match its probability.
- **Example**: If you flip a fair coin many times, you’ll see that approximately 50% of the outcomes will be heads, and 50% will be tails, matching the theoretical probability of 0.5.

#### Question 5: How can knowing probabilities help us make decisions about the future?

- **Answer**: Probabilities help us evaluate the likelihood of various outcomes, which can inform decision-making. By understanding the chances of different events, we can make more informed and rational choices.
- **Example**: If the probability of rain tomorrow is 90%, you might decide to carry an umbrella when leaving the house.

---

#### Question 6: What is the difference between discrete and continuous probability distributions?

- **Answer**: A **discrete probability distribution** deals with distinct, countable outcomes (e.g., number of heads in 10 coin flips). A **continuous probability distribution** deals with an infinite number of possible outcomes within a range (e.g., a person's exact height).
- **Example**: Rolling a die is a discrete distribution because the outcomes (1, 2, 3, etc.) are countable. Measuring someone's height is a continuous distribution because height can take any value within  range.


---
